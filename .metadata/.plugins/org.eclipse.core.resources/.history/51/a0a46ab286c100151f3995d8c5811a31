package com.sdc.dci.jweb.init;

import com.dsc.dci.jweb.patchs.EKBVersionCheck;
import com.dsc.dci.jweb.pub.APPubMethods;
import com.dsc.dci.jweb.pub.Singleton;
import com.dsc.dci.jweb.tasks.ConnectionCheck;
import com.dsc.dci.jweb.tasks.MultiLanguageSync;
import com.dsc.dci.jweb.tasks.UserCheck;

public class WebAPListener {

	public WebAPListener() {
//		startProcess();
//		stratTasks();
	}

//	public WebAPListener(boolean loadConn) {
//		reloadProcess(loadConn);
//	}

//	private void startProcess() {
//		System.out.println("Start DCI web process");
//		System.out.println("Init singleton objects");
//		Singleton s = Singleton.getInstance();
//		APPubMethods method = new APPubMethods();
//
//		System.out.println("Build all datasource");
//		method.setConnectionPool();
//		if (s.getDatabaseStatus()) {
//			System.out.println("Check Current Version");
//			new EKBVersionCheck();
////			method.checkKanBanLegend();//need move to patch class
//			System.out.println("Load System Config");
//			method.loadSystemConfig();
//			System.out.println("Load Multi Language");
//			method.loadMultiLanguage();
//			System.out.println("Multi Language Loaded");
//			method.checkLicense();
//			if (!s.getLicenseStatus()) {
//				System.out.println("license check fail");
//			}
//		} else {
//			System.out.println("set connection pool fail");
//		}
//
//	}

	// private void reloadProcess(boolean reloadConn) {
	// System.out.println("Start DCI web process");
	// System.out.println("Init singleton objects");
	// Singleton s = Singleton.getInstance();
	// APPubMethods method = new APPubMethods();
	// method.checkLicense();
	//
	// System.out.println("Build all datasource");
	// if (reloadConn) {
	// method.setConnectionPool();
	// }
	// if (s.getDatabaseStatus()) {
	// System.out.println("Load System Config");
	// method.loadSystemConfig();
	// System.out.println("Load Multi Language");
	// method.loadMultiLanguage();
	// if (!s.getLicenseStatus()) {
	// System.out.println("license check fail");
	// }
	// } else {
	// System.out.println("set connection pool fail");
	// }
	//
	// }
	//
	// private void stratTasks() {
	// SystemTimer st = SystemTimer.getInstance();
	// st.addTask(new UserCheck(), 10000);
	// st.addTask(new MultiLanguageSync(), 1800000);
	// st.addTask(new ConnectionCheck(), 180000);
	// }
}
